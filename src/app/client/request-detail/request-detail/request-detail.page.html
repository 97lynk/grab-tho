<ion-header>
  <ion-toolbar>
    <ion-buttons slot="secondary">
      <ion-button (click)="goBack()">
        <ion-icon name="arrow-back"></ion-icon> Trở lại
      </ion-button>
    </ion-buttons>

    <ion-title>Yêu cầu</ion-title>

  </ion-toolbar>
</ion-header>

<ion-content fullscreen class="ion-padding-vertical">

  <c-post [poster]="poster" [request]="request"></c-post>

  <!-- review -->
  <ion-item lines="full" *ngIf="showReviewSection && !request?.feedBack">
    <ion-avatar slot="start">
      <img [defaultImage]="'/assets/no-avatar.svg'" [lazyLoad]="profile?.avatar" alt="avatar">
    </ion-avatar>
    <div style="width: 100%;">
      <ion-textarea autoGrow="true" placeholder="Viết đánh giá" rows="3" class="post-comment ion-margin-top"
        style="--padding-top: 0; --padding-bottom: 0;"></ion-textarea>
      <star-rating [value]="request?.rate" checkedcolor="gold" uncheckedcolor="gray" size="24px" readonly="false">
      </star-rating>
    </div>
  </ion-item>

  <!-- reviewed -->
  <ion-item class="ion-margin-bottom" *ngIf="showReviewSection && request?.feedBack" lines="none">
    <ion-avatar slot="start">
      <img [defaultImage]="'/assets/no-avatar.svg'" [lazyLoad]="profile?.avatar">
    </ion-avatar>
    <ion-label>
      <span class="post-comment">
        <span class="primary-color">{{ profile?.fullName }}</span> - <span>đã đánh giá</span>
        <div>
          <star-rating [value]="request?.rate" checkedcolor="gold" uncheckedcolor="gray" size="24px" readonly="true">
          </star-rating>
          <div class="ion-text-wrap ion-padding-top"> {{ request?.comment }} </div>
        </div>
      </span>
    </ion-label>
  </ion-item>

  <c-repairer-list *ngIf="showRepairerSection" [repairers]="repairers"
    [quotedClass]="'quote-comment'"
    [acceptedClass]="'accept-comment'"
    [itemClickable]="request?.status === 'RECEIVED' || request?.status === 'QUOTED'"
    [poster]="poster"></c-repairer-list>

</ion-content>