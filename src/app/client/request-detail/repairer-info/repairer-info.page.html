<ion-content>
  <ion-button (click)="goBack()" color="light" class="float-button" size="small">
    <ion-icon name="arrow-back" color="primary"></ion-icon>
    <span style="color: var(--ion-color-primary);"> Trở lại</span>
  </ion-button>

  <div [style.height.px]="innerHeight - infoPanel.offsetHeight">
    <agm-map style="height: 100%" [latitude]="hcmc.lat" [longitude]="hcmc.lng" [streetViewControl]="false"
      [zoomControlOptions]="zoomConfig">
      <agm-direction *ngIf="destination != null" [origin]="origin" [destination]="destination"
        [markerOptions]="markerOptions">
      </agm-direction>
    </agm-map>
  </div>

  <div class="ion-padding" #infoPanel>
    <!-- <div (click)="presentModal()" class="ion-text-center">
      <ion-icon color="primary" name="arrow-up"></ion-icon>
    </div> -->
    <ion-item-sliding>
      <ion-item lines="inset">
        <ion-avatar slot="start">
          <img [defaultImage]="'/assets/no-avatar.svg'" [lazyLoad]="repairer?.avatar" alt="avatar">
        </ion-avatar>
        <ion-label style="margin-top: 0; margin-bottom: 0;">
          <div class="primary-color">{{ repairer?.fullName }}</div>
          <div class="post-time">Thợ sửa chữa nước</div>
          <star-rating value="4.0" checkedcolor="gold" uncheckedcolor="gray" size="12px" readonly="true"></star-rating>
        </ion-label>
        <ion-button class="ion-margin-vertical" size="large" slot="end" fill="clear" color="primary" (click)="locating()">
          <ion-icon name="pin"></ion-icon>
        </ion-button>
      </ion-item>

      <ion-item-options side="start">
        <ion-item-option color="primary">
          <ion-icon slot="top" name="call" size="large"></ion-icon>
          <small>Gọi ngay</small>
        </ion-item-option>
        <ion-item-option color="secondary">
          <ion-icon slot="top" name="chatbubbles" size="large"></ion-icon>
          <small>Nhắn tin</small>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>

    <ion-item lines="none">
      <ion-avatar slot="start"></ion-avatar>
      <ion-label *ngIf="!quoted">Chưa báo giá</ion-label>
      <ion-label *ngIf="quoted">Đã báo giá</ion-label>
      <ion-text slot="end" *ngIf="quoted">
        <strong>{{ quoted.point }} điểm</strong>
      </ion-text>
    </ion-item>

    <ion-button expand="block" (click)="accept()" *ngIf="quoted">Đặt thợ ngay</ion-button>

  </div>
</ion-content>