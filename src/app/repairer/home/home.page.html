<ion-header translucent noborder>
  <ion-toolbar translucent>
    <ion-buttons slot="start">
      <span class="logo">GrabTho</span>
    </ion-buttons>
    <ion-buttons slot="end" style="font-size: 24px;">
      <ion-icon class="ion-margin-end" (click)="logout()" name="power" fill="clear" color="primary"></ion-icon>
    </ion-buttons>
  </ion-toolbar>

</ion-header>

<ion-content class="ion-padding-bottom">

  <div class="ion-padding-vertical" *ngIf="repairer">
    <ion-item lines="none">
      <ion-avatar slot="start" style="border: 2px solid var(--ion-color-primary-shade); width: 48px; height: 48px;">
        <img [defaultImage]="'/assets/no-avatar.svg'" [lazyLoad]="repairer.avatar">
      </ion-avatar>
      <ion-label class="profile-info">
        <ion-item lines="none" style="--min-height: auto; --padding-start: 0;">
          <h3 class="fullname ion-text-wrap">{{ repairer.fullName }}</h3>
        </ion-item>
        <h5 class="major  ion-text-wrap">{{ repairer.major }}</h5>
      </ion-label>

    </ion-item>

    <div class="ion-padding-horizontal ion-margin-top">
      <ion-chip outline color="secondary" style="font-size: 10px; height: auto;">
        <ion-icon name="star"></ion-icon>
        <ion-label>{{ repairer.rating | number: '1.1-1'}} điểm</ion-label>
      </ion-chip>
      <ion-chip outline color="secondary" style="font-size: 10px; height: auto;">
        <ion-icon name="build" mode="md"></ion-icon>
        <ion-label>{{ repairer.completedJob}} công trình</ion-label>
      </ion-chip>
      <ion-chip outline color="secondary" style="font-size: 10px; height: auto;">
        <ion-icon name="heart"></ion-icon>
        <ion-label>{{ countLike | async}} yêu thích</ion-label>
      </ion-chip>
    </div>

  </div>

  <ion-item-divider></ion-item-divider>

  <ion-row class="ion-padding list-header">
    Yêu cầu của bạn
  </ion-row>
  <div *ngIf="myRequests.length === 0" class="ion-text-center ion-margin-bottom">
    <img src="/assets/empty-box.svg" alt="Chưa có yêu cầu">
    <div class="text-light-color">Chưa có yêu cầu</div>
  </div>

  <ng-container *ngIf="myRequests.length > 0">
    <ng-container *ngFor="let req of myRequests">
      <item-request *ngIf="dataRepairerList && dataRepairerList[req.id]" [request]="req"
        [histories]="dataRepairerList[req.id]" routerDirection="root" [routerLink]="['/r','requests', req.id]">
      </item-request>
    </ng-container>
    <ion-item-divider></ion-item-divider>
  </ng-container>

  <ion-item-divider></ion-item-divider>
  <ion-row class="ion-padding list-header">
    Yêu cầu mới đăng
  </ion-row>
  <div *ngIf="recentRequest.length === 0" class="ion-text-center ion-margin-bottom">
    <img src="/assets/empty-box.svg" alt="Chưa có yêu cầu">
    <div class="text-light-color">Chưa có yêu cầu</div>
  </div>
  <ng-container *ngFor="let req of recentRequest">
    <item-request *ngIf="dataRepairerList && dataRepairerList[req.id]" [request]="req"
      [histories]="dataRepairerList[req.id]" routerDirection="root" [routerLink]="['/r','requests', req.id]">
    </item-request>
  </ng-container>
</ion-content>